from pathlib import Path
path = Path("src/pages/AdminMembershipPage.jsx")
text = path.read_text()
marker = "      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", flexWrap: \"wrap\", gap: \"0.75rem\", marginBottom: \"1rem\" }} />"
if marker in text:
    raise SystemExit('unexpected self closing use - adjust approach')
marker = "      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", flexWrap: \"wrap\", gap: \"0.75rem\", marginBottom: \"1rem\" }} >"
if marker in text:
    raise SystemExit('whitespace variant found, adjust manually')
marker = "      {loadingData ? (\n        <div style={{ padding: \"2rem\", textAlign: \"center\", color: \"#4b5563\" }}>Loading memberships...</div>\n      ) : (\n"
if marker not in text:
    raise SystemExit('loading block marker not found')
insert = "\n      <section style={{ marginTop: \"2rem\", marginBottom: \"2rem\" }}>\n        <h2 style={{ fontSize: \"1.25rem\", fontWeight: 600, marginBottom: \"0.75rem\" }}>ATS Job Sync</h2>\n        {jobError && (\n          <div style={{ background: '#fee2e2', border: '1px solid #fca5a5', color: '#b91c1c', padding: '0.75rem 1rem', borderRadius: '8px', marginBottom: '0.75rem' }}>\n            {jobError}\n          </div>\n        )}\n        {jobMessage && (\n          <div style={{ background: '#dbeafe', border: '1px solid #93c5fd', color: '#1d4ed8', padding: '0.75rem 1rem', borderRadius: '8px', marginBottom: '0.75rem' }}>\n            {jobMessage}\n          </div>\n        )}\n\n        <form\n          onSubmit={handleCreateCompany}\n          style={{\n            display: 'grid',\n            gap: '0.75rem',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\n            background: '#ffffff',\n            border: '1px solid #e5e7eb',\n            borderRadius: '12px',\n            padding: '1rem',\n            marginBottom: '1.5rem',\n          }}\n        >\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\n            <label style={{ fontSize: '0.8rem', fontWeight: 600, color: '#4b5563' }}>Company Name</label>\n            <input\n              type=\"text\"\n              value={newCompany.name}\n              onChange={(event) => handleNewCompanyChange('name', event.target.value)}\n              placeholder=\"Acme Corp\"\n              style={{ padding: '0.45rem 0.75rem', borderRadius: '6px', border: '1px solid #d1d5db' }}\n              required\n            />\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\n            <label style={{ fontSize: '0.8rem', fontWeight: 600, color: '#4b5563' }}>Careers URL</label>\n            <input\n              type=\"url\"\n              value={newCompany.careers_url}\n              onChange={(event) => handleNewCompanyChange('careers_url', event.target.value)}\n              placeholder=\"https://boards.greenhouse.io/your-board\"\n              style={{ padding: '0.45rem 0.75rem', borderRadius: '6px', border: '1px solid #d1d5db' }}\n              required\n            />\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\n            <label style={{ fontSize: '0.8rem', fontWeight: 600, color: '#4b5563' }}>Website URL</label>\n            <input\n              type=\"url\"\n              value={newCompany.website_url}\n              onChange={(event) => handleNewCompanyChange('website_url', event.target.value)}\n              placeholder=\"https://company.com\"\n              style={{ padding: '0.45rem 0.75rem', borderRadius: '6px', border: '1px solid #d1d5db' }}\n            />\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\n            <label style={{ fontSize: '0.8rem', fontWeight: 600, color: '#4b5563' }}>ATS Provider</label>\n            <select\n              value={newCompany.ats_provider}\n              onChange={(event) => handleNewCompanyChange('ats_provider', event.target.value)}\n              style={{ padding: '0.45rem 0.75rem', borderRadius: '6px', border: '1px solid #d1d5db' }}\n              required\n            >\n              <option value=\"greenhouse\">Greenhouse</option>\n            </select>\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\n            <label style={{ fontSize: '0.8rem', fontWeight: 600, color: '#4b5563' }}>Board Token / External ID</label>\n            <input\n              type=\"text\"\n              value={newCompany.external_identifier}\n              onChange={(event) => handleNewCompanyChange('external_identifier', event.target.value)}\n              placeholder=\"company-board\"\n              style={{ padding: '0.45rem 0.75rem', borderRadius: '6px', border: '1px solid #d1d5db' }}\n            />\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\n            <label style={{ fontSize: '0.8rem', fontWeight: 600, color: '#4b5563' }}>Sync Interval (minutes)</label>\n            <input\n              type=\"number\"\n              min=\"30\"\n              value={newCompany.sync_interval_minutes}\n              onChange={(event) => handleNewCompanyChange('sync_interval_minutes', Number(event.target.value))}\n              style={{ padding: '0.45rem 0.75rem', borderRadius: '6px', border: '1px solid #d1d5db' }}\n            />\n          </div>\n          <div style={{ display: 'flex', alignItems: 'flex-end', gap: '0.5rem' }}>\n            <button\n              type=\"submit\"\n              style={{ padding: '0.6rem 1.2rem', borderRadius: '6px', border: 'none', background: '#2563eb', color: '#ffffff', fontWeight: 600, cursor: 'pointer' }}\n            >\n              Add Company\n            </button>\n            <button\n              type=\"button\"\n              onClick={loadJobCompanies}\n              style={{ padding: '0.6rem 1.2rem', borderRadius: '6px', border: '1px solid #d1d5db', background: '#ffffff', cursor: 'pointer', fontWeight: 500 }}\n            >\n              Refresh Companies\n            </button>\n          </div>\n        </form>\n\n        <div style={{ overflowX: 'auto', background: '#ffffff', borderRadius: '12px', border: '1px solid #e5e7eb', marginBottom: '2rem' }}>\n          {jobLoading ? (\n            <div style={{ padding: '1.5rem', textAlign: 'center', color: '#4b5563' }}>Loading companies...</div>\n          ) : jobCompanies.length === 0 ? (\n            <div style={{ padding: '1.5rem', textAlign: 'center', color: '#6b7280' }}>No companies configured yet.</div>\n          ) : (\n            <table style={{ width: '100%', borderCollapse: 'separate', borderSpacing: 0 }}>\n              <thead style={{ background: '#f9fafb', textAlign: 'left' }}>\n                <tr>\n                  <th style={{ padding: '0.75rem', fontSize: '0.8rem', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Company</th>\n                  <th style={{ padding: '0.75rem', fontSize: '0.8rem', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>ATS</th>\n                  <th style={{ padding: '0.75rem', fontSize: '0.8rem', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Last Sync</th>\n                  <th style={{ padding: '0.75rem', fontSize: '0.8rem', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Status</th>\n                  <th style={{ padding: '0.75rem', fontSize: '0.8rem', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {jobCompanies.map((company) => (\n                  <tr key={company.id} style={{ borderBottom: '1px solid #e5e7eb' }}>\n                    <td style={{ padding: '0.75rem', verticalAlign: 'top' }}>\n                      <div style={{ fontWeight: 600 }}>{company.name}</div>\n                      <div style={{ fontSize: '0.8rem', color: '#6b7280' }}>{company.careers_url}</div>\n                    </td>\n                    <td style={{ padding: '0.75rem', verticalAlign: 'top' }}>{company.ats_provider}</td>\n                    <td style={{ padding: '0.75rem', verticalAlign: 'top' }}>{company.last_synced_at ? new Date(company.last_synced_at).toLocaleString() : 'Never'}</td>\n                    <td style={{ padding: '0.75rem', verticalAlign: 'top', color: company.is_active ? '#15803d' : '#b91c1c' }}>{company.is_active ? 'Active' : 'Paused'}</td>\n                    <td style={{ padding: '0.75rem', verticalAlign: 'top' }}>\n                      <button\n                        type='button'\n                        onClick={() => handleTriggerJobSync(company.id)}\n                        style={{ padding: '0.45rem 0.9rem', borderRadius: '6px', border: '1px solid #2563eb', background: '#2563eb', color: '#fff', fontWeight: 600, cursor: 'pointer' }}\n                      >\n                        Trigger Sync\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n      </section>\n"
text = text.replace(marker, insert + marker, 1)
path.write_text(text)
